import{d as W,b as N,T as E,a as z}from"./index-c6449983.js";import{s as d,e as D,M as V,K as l}from"./index-a4f58e3c.js";import{_ as q}from"./popupForm.vue_vue_type_script_setup_true_lang-0b5aa8a4.js";import{_ as R}from"./userInfo.vue_vue_type_script_setup_true_lang-7d28b576.js";import{h as $,w as F,af as U,E as G,q as p,a8 as K,o as f,k as L,z as s,O as m,V as b,p as i,P as o,m as c,$ as x,a5 as h,W as _,aa as v}from"./vue-5a2488fc.js";import"./index-f6e7dd17.js";import"./index-167b3218.js";import"./validate-d21f834d.js";import"./sass.default-3d7d7514.js";function j(r){return d({url:"/admin/finance.Withdraw/payment",method:"POST",data:r},{showSuccessMessage:!0})}function J(r){return d({url:"/admin/finance.Withdraw/reloadStatus",method:"POST",data:r},{showSuccessMessage:!0})}function Q(r){return d({url:"/admin/finance.Withdraw/payStatus",method:"POST",data:r},{showSuccessMessage:!0})}function M(r){return d({url:"/admin/finance.Withdraw/successStatus",method:"POST",data:r},{showSuccessMessage:!0})}function A(r){return d({url:"/admin/finance.Withdraw/errorStatus",method:"POST",data:r},{showSuccessMessage:!0})}function X(r){return d({url:"/admin/finance.Withdraw/moshouStatus",method:"POST",data:r},{showSuccessMessage:!0})}function Y(r){return d({url:"/admin/finance.Withdraw/moshouUserStatus",method:"POST",data:r},{showSuccessMessage:!0})}function Z(r){return d({url:"/admin/finance.Withdraw/overStatus",method:"POST",data:r},{showSuccessMessage:!0})}const ee={class:"default-main ba-table-box"},te={class:"mlr-12",style:{"margin-left":"10px"}},ae=c("span",{class:"table-header-operate-text"},"批量通过",-1),re={class:"mlr-12",style:{"margin-left":"10px"}},ne=c("span",{class:"table-header-operate-text"},"批量拒绝",-1),oe={class:"mlr-12",style:{"margin-left":"10px"}},se=c("span",{class:"table-header-operate-text"},"批量代付",-1),le=c("br",null,null,-1),ie=c("br",null,null,-1),ce=c("br",null,null,-1),de=c("br",null,null,-1),Se=$({name:"finance/withdraw",__name:"index",setup(r){const C=()=>{M({ids:t.getSelectionIds()}).then(e=>{e.code==1&&t.onTableHeaderAction("refresh",{})})},H=()=>{Q({ids:t.getSelectionIds()}).then(e=>{e.code==1&&t.onTableHeaderAction("refresh",{})})},I=()=>{v.prompt("请输入拒绝理由","审核拒绝",{confirmButtonText:"确认",cancelButtonText:"取消"}).then(({value:e})=>{A({ids:t.getSelectionIds(),des:e}).then(n=>{n.code==1&&t.onTableHeaderAction("refresh",{})})})},{t:a}=D(),k=F();let y=[{render:"tipButton",name:"info",title:"发起代付",text:"",type:"danger",icon:"fa fa-hand-pointer-o",class:"table-row-info",disabledTip:!1,click:e=>{j({id:e.id}).then(n=>{n.code==1&&t.onTableHeaderAction("refresh",{})})},display:e=>{if(l("payment")&&e.status==2)return!0}},{render:"tipButton",name:"info",title:"初始化",text:"",type:"warning",icon:"fa fa-superpowers",class:"table-row-info",disabledTip:!1,click:e=>{J({id:e.id}).then(n=>{n.code==1&&t.onTableHeaderAction("refresh",{})})},display:e=>{if(e.status==2||e.status==5&&!e.pay_order_id&&l("reloadStatus"))return!0}},{render:"tipButton",name:"info",title:"拒绝并没收",text:"",type:"warning",icon:"fa fa-exclamation",class:"table-row-info",disabledTip:!1,click:e=>{X({id:e.id}).then(n=>{n.code==1&&t.onTableHeaderAction("refresh",{})})},display:e=>{if(e.status==1&&l("moshouStatus"))return!0}},{render:"tipButton",name:"info",title:"拒绝没收并封号",text:"",type:"danger",icon:"fa fa-exclamation",class:"table-row-info",disabledTip:!1,click:e=>{Y({id:e.id}).then(n=>{n.code==1&&t.onTableHeaderAction("refresh",{})})},display:e=>{if(e.status==1&&l("moshouStatus"))return!0}},{render:"confirmButton",name:"success",title:"审核通过",text:"",type:"success",icon:"fa fa-check",class:"table-row-info",popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonType:"danger",title:"确定通过审核吗？"},disabledTip:!1,click:e=>{M({ids:e.id}).then(n=>{n.code==1&&t.onTableHeaderAction("refresh",{})})},display:e=>{if(e.status==1&&l("successStatus"))return!0}},{render:"confirmButton",name:"errors",title:"审核拒绝",text:"",type:"danger",icon:"fa fa-close",class:"table-row-info",popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonType:"danger",title:"确定拒绝审核吗？"},disabledTip:!1,click:e=>{v.prompt("请输入拒绝理由","审核拒绝",{confirmButtonText:"确认",cancelButtonText:"取消"}).then(({value:n})=>{A({ids:e.id,des:n}).then(g=>{g.code==1&&t.onTableHeaderAction("refresh",{})})})},display:e=>{if(e.status==1&&l("errorStatus"))return!0}},{render:"tipButton",name:"info",title:"前端显示完成",text:"",type:"success",icon:"fa fa-check",class:"table-row-info",disabledTip:!1,click:e=>{Z({id:e.id}).then(n=>{n.code==1&&t.onTableHeaderAction("refresh",{})})},display:e=>{if(e.status!=6&&e.status!=5&&l("overStatus"))return!0}}];y=y.concat(W(["edit"]));const t=new N(new V("/admin/finance.Withdraw/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:a("finance.withdraw.id"),prop:"id",align:"center",width:70,operator:!1,sortable:"custom"},{label:a("finance.withdraw.uid"),prop:"uid",align:"center",operator:"=",sortable:!1,render:"slot",slotName:"id"},{label:a("finance.withdraw.types"),prop:"types",align:"center",operator:"eq",sortable:!1,replaceValue:{1:a("finance.withdraw.types 1"),2:a("finance.withdraw.types 2")},render:"tag",custom:{1:"primary",2:"success"}},{label:"备注",prop:"remark",align:"center",operator:!1,sortable:!1},{label:"团队备注",prop:"team_remark",align:"center",operator:!1,sortable:!1},{label:"总充值",prop:"count_r_money",align:"center",operator:!1,sortable:!1},{label:"总提现",prop:"count_w_money",align:"center",operator:!1,sortable:!1},{label:"赠送金币",prop:"money",align:"center",operator:!1,sortable:!1,render:"slot",slotName:"money",width:300},{label:a("finance.withdraw.money"),prop:"money",align:"center",operator:!1,sortable:!1},{label:a("finance.withdraw.free_money"),prop:"free_money",align:"center",operator:!1,sortable:!1},{label:"到账账号",prop:"account",align:"center",operator:!1,sortable:!1},{label:a("finance.withdraw.create_time"),prop:"create_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:a("finance.withdraw.update_time"),prop:"update_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:a("finance.withdraw.status"),prop:"status",align:"center",render:"tag",operator:"eq",sortable:!1,replaceValue:{1:a("finance.withdraw.status 1"),2:a("finance.withdraw.status  2"),3:a("finance.withdraw.status 3"),4:a("finance.withdraw.status 4"),5:a("finance.withdraw.status 5"),6:a("finance.withdraw.status 6")},custom:{1:"info",2:"success",3:"warning",4:"primary",5:"success",6:"danger"}},{label:a("finance.withdraw.order"),prop:"order",align:"center",operatorPlaceholder:a("Fuzzy query"),operator:"LIKE",sortable:!1},{label:a("finance.withdraw.names"),prop:"names",align:"center",operatorPlaceholder:a("Fuzzy query"),operator:!1,sortable:!1},{label:a("finance.withdraw.t_money"),prop:"t_money",align:"center",operator:!1,sortable:!1},{label:"拒绝原因",prop:"error_msg",align:"center",operator:!1,sortable:!1},{label:a("finance.withdraw.pay_order_id"),prop:"pay_order_id",align:"center",operator:"eq",sortable:!1},{label:"操作人",prop:"admin_name",align:"center",operator:!1,sortable:!1},{label:a("Operate"),align:"center",width:100,render:"buttons",buttons:y,operator:!1,fixed:"right"}],dblClickNotEditColumn:["all"]},{defaultItems:{}}),O=e=>{t.form.extend.user_id=e,t.form.operate="userInfoDialog"};return U("baTable",t),G(()=>{var e;t.table.ref=k.value,t.mount(),(e=t.getIndex())==null||e.then(()=>{t.initSort(),t.dragSort()})}),(e,n)=>{const g=p("el-alert"),w=p("el-button"),S=p("el-popconfirm"),P=p("el-tooltip"),B=p("el-table-column"),T=K("blur");return f(),L("div",ee,[s(t).table.remark?(f(),m(g,{key:0,class:"ba-table-alert",title:s(t).table.remark,type:"info","show-icon":""},null,8,["title"])):b("",!0),i(E,{buttons:["refresh","add","edit","delete","comSearch","columnDisplay"]},{default:o(()=>[i(S,{onConfirm:C,"confirm-button-text":"确定","cancel-button-text":"取消",confirmButtonType:"success",title:"确定批量通过选中的数据吗？",disabled:!(s(t).table.selection.length>0)},{reference:o(()=>[c("div",te,[s(l)("successStatus")?x((f(),m(w,{key:0,disabled:!(s(t).table.selection.length>0),class:"table-header-operate",type:"success"},{default:o(()=>[ae]),_:1},8,["disabled"])),[[T]]):b("",!0)])]),_:1},8,["disabled"]),i(S,{onConfirm:I,"confirm-button-text":"确定","cancel-button-text":"取消",confirmButtonType:"success",title:"确定批量拒绝选中的数据吗？",disabled:!(s(t).table.selection.length>0)},{reference:o(()=>[c("div",re,[s(l)("errorStatus")?x((f(),m(w,{key:0,disabled:!(s(t).table.selection.length>0),class:"table-header-operate",type:"danger"},{default:o(()=>[ne]),_:1},8,["disabled"])),[[T]]):b("",!0)])]),_:1},8,["disabled"]),i(S,{onConfirm:H,"confirm-button-text":"确定","cancel-button-text":"取消",confirmButtonType:"success",title:"确定批量代付选中的数据吗？",disabled:!(s(t).table.selection.length>0)},{reference:o(()=>[c("div",oe,[s(l)("payStatus")?x((f(),m(w,{key:0,disabled:!(s(t).table.selection.length>0),class:"table-header-operate",type:"warning"},{default:o(()=>[se]),_:1},8,["disabled"])),[[T]]):b("",!0)])]),_:1},8,["disabled"])]),_:1}),i(z,{ref_key:"tableRef",ref:k},{id:o(()=>[i(B,{prop:"id",label:"UID",align:"center"},{default:o(u=>[i(P,{class:"box-item",effect:"dark",content:"点击查看详情",placement:"top-start"},{default:o(()=>[i(w,{size:"small",type:"primary",onClick:ue=>O(u.row.uid)},{default:o(()=>[h(_(u.row.uid),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),money:o(()=>[i(B,{prop:"money",label:"赠送金币",align:"center",width:"200"},{default:o(u=>[h(" 邮箱领取： "+_(u.row.email_money),1),le,h(" vip升级： "+_(u.row.vip_money),1),ie,h(" 转盘领取： "+_(u.row.zp_money),1),ce,h(" 后台手动： "+_(u.row.sd_money),1),de]),_:1})]),_:1},512),i(q),s(t).form.operate=="userInfoDialog"?(f(),m(R,{key:1})):b("",!0)])}}});export{Se as default};
