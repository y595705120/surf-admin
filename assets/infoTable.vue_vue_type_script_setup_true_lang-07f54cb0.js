import{b as C,T as I,a as D}from"./index-c6449983.js";import{e as N,M as T,K as A,s as B}from"./index-a4f58e3c.js";import{f as E}from"./file-download-cdff80a5.js";import{_ as R}from"./userInfo.vue_vue_type_script_setup_true_lang-7d28b576.js";import{h as _,w as V,af as q,E as S,q as l,a8 as U,o as s,k as $,z as r,O as b,V as u,p as a,P as o,$ as G,a5 as z,W as F,m as M}from"./vue-5a2488fc.js";const P={class:"default-main ba-table-box"},H=M("span",{class:"table-header-operate-text"},"导出",-1),K=_({name:"user/coding/infoTable"}),X=_({...K,props:{val:String},setup(h){const c=h,{t:d}=N(),p=V(),e=new C(new T("/admin/user.Coding/"),{column:[{label:"UID",prop:"uid",align:"center",operator:"=",render:"slot",slotName:"id"},{label:"投注",prop:"bet_count_money",align:"center",operator:!1},{label:"中奖",prop:"win_money_cunt",align:"center",operator:!1},{label:"输赢",prop:"transfer_amount_count",align:"center",operator:!1},{label:"充值",prop:"recharge",align:"center",operator:!1},{label:"提现",prop:"cash_out",align:"center",operator:!1},{label:"日期",prop:"bet_time",align:"center",operator:!1,render:"datetime",timeFormat:"yyyy-mm-dd"}],dblClickNotEditColumn:["all"]}),g=()=>{e.table.filter.search.push({field:"bet_time",operator:"RANGE",render:"datetime",val:c.val}),B({url:"/admin/user.Coding/export",method:"get",params:e.table.filter,responseType:"blob"},{reductDataFormat:!1}).then(t=>{e.table.filter.search.splice(-1,1);const n=t.headers["content-disposition"].split("filename="),i=decodeURI(n[1]);E(t.data,i)})};q("baTable",e);const k=t=>{e.form.extend.user_id=t,e.form.operate="userInfoDialog"};return e.getIndex=()=>{if(e.runBefore("getIndex")!==!1)return e.table.loading=!0,e.table.filter.search.push({field:"bet_time",operator:"RANGE",render:"datetime",val:c.val}),e.api.index(e.table.filter).then(t=>{e.table.data=t.data.list,e.table.total=t.data.total,e.table.remark=t.data.remark,e.form.extend.title_info=t.data.title_info,e.table.filter.search.splice(-1,1),e.runAfter("getIndex",{res:t})}).finally(()=>{e.table.loading=!1})},S(()=>{e.api.actionUrl.set("index","/admin/user.Coding/info"),e.table.ref=p.value,e.mount(),e.getIndex()}),(t,x)=>{const n=l("el-alert"),i=l("Icon"),f=l("el-button"),y=l("el-tooltip"),v=l("el-table-column"),w=U("blur");return s(),$("div",P,[r(e).table.remark?(s(),b(n,{key:0,class:"ba-table-alert",title:r(e).table.remark,type:"info","show-icon":""},null,8,["title"])):u("",!0),a(I,{buttons:["refresh","comSearch","columnDisplay"],"quick-search-placeholder":r(d)("quick Search Placeholder",{fields:r(d)("user.group.GroupName")})},{default:o(()=>[r(A)("export")?G((s(),b(f,{key:0,class:"table-header-operate",type:"danger",onClick:g},{default:o(()=>[a(i,{color:"#ffffff",name:"el-icon-Download"}),H]),_:1})),[[w]]):u("",!0)]),_:1},8,["quick-search-placeholder"]),a(D,{ref_key:"tableRef",ref:p},{id:o(()=>[a(v,{prop:"id",label:"UID",align:"center"},{default:o(m=>[a(y,{class:"box-item",effect:"dark",content:"点击查看详情",placement:"top-start"},{default:o(()=>[a(f,{size:"small",type:"primary",onClick:O=>k(m.row.uid)},{default:o(()=>[z(F(m.row.uid),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},512),a(R)])}}});export{X as _};
