import{h as D,w as E,ap as I,r as N,q as n,a8 as u,o as s,O as p,P as i,$ as f,k as v,a5 as b,W as V,z as e,m as w,l as U,p as m,X as W,a4 as y,as as _,Z as h,V as k}from"./vue-5a2488fc.js";import{e as q}from"./index-a237e875.js";import{F as r}from"./index-bb90bcb7.js";import{b as g}from"./validate-8f99773c.js";const K={class:"title"},O=D({__name:"popupForm",setup(T){const d=E(),l=I("baTable"),{t:o}=q(),C=N({category_id:[g({name:"required",title:o("game.games.category_id")})],country_id:[g({name:"required",title:o("game.games.country_id")})],create_time:[g({name:"date",title:o("game.games.create_time")})],update_time:[g({name:"date",title:o("game.games.update_time")})]});return(M,a)=>{const x=n("el-form"),F=n("el-scrollbar"),c=n("el-button"),S=n("el-dialog"),z=u("drag"),P=u("zoom"),$=u("loading"),B=u("blur");return s(),p(S,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(l).form.operate),onClose:e(l).toggleForm,width:"50%"},{header:i(()=>[f((s(),v("div",K,[b(V(e(l).form.operate?e(o)(e(l).form.operate):""),1)])),[[z,[".ba-operate-dialog",".el-dialog__header"]],[P,".ba-operate-dialog"]])]),footer:i(()=>[w("div",{style:U("width: calc(100% - "+e(l).form.labelWidth/1.8+"px)")},[m(c,{onClick:a[16]||(a[16]=t=>e(l).toggleForm())},{default:i(()=>[b(V(e(o)("Cancel")),1)]),_:1}),f((s(),p(c,{loading:e(l).form.submitLoading,onClick:a[17]||(a[17]=t=>e(l).onSubmit(d.value)),type:"primary"},{default:i(()=>[b(V(e(l).form.operateIds&&e(l).form.operateIds.length>1?e(o)("Save and edit next item"):e(o)("Save")),1)]),_:1},8,["loading"])),[[B]])],4)]),default:i(()=>[f((s(),p(F,{class:"ba-table-form-scrollbar"},{default:i(()=>[w("div",{class:W(["ba-operate-form","ba-"+e(l).form.operate+"-form"]),style:U("width: calc(100% - "+e(l).form.labelWidth/2+"px)")},[e(l).form.loading?k("",!0):(s(),p(x,{key:0,ref_key:"formRef",ref:d,onSubmit:a[14]||(a[14]=y(()=>{},["prevent"])),onKeyup:a[15]||(a[15]=_(t=>e(l).onSubmit(d.value),["enter"])),model:e(l).form.items,"label-position":"right","label-width":e(l).form.labelWidth+"px",rules:C},{default:i(()=>[m(r,{label:e(o)("game.games.category_id"),type:"remoteSelect",modelValue:e(l).form.items.category_id,"onUpdate:modelValue":a[0]||(a[0]=t=>e(l).form.items.category_id=t),prop:"category_id","input-attr":{pk:"game_category.id",field:"cate_name","remote-url":"/admin/game.Category/index",disabled:e(l).form.operate=="Edit"},placeholder:e(o)("Please select field",{field:e(o)("game.games.category_id")})},null,8,["label","modelValue","input-attr","placeholder"]),e(l).form.operate=="Edit"?(s(),v(h,{key:0},[m(r,{label:e(o)("game.games.image"),type:"image",modelValue:e(l).form.items.image,"onUpdate:modelValue":a[1]||(a[1]=t=>e(l).form.items.image=t),prop:"image","input-attr":{returnFullUrl:!0}},null,8,["label","modelValue"]),m(r,{label:e(o)("game.games.image_bg"),type:"image",modelValue:e(l).form.items.image_bg,"onUpdate:modelValue":a[2]||(a[2]=t=>e(l).form.items.image_bg=t),prop:"image_bg","input-attr":{returnFullUrl:!0}},null,8,["label","modelValue"]),m(r,{label:"图册",type:"images",modelValue:e(l).form.items.images,"onUpdate:modelValue":a[3]||(a[3]=t=>e(l).form.items.images=t),prop:"images","input-attr":{returnFullUrl:!0}},null,8,["modelValue"]),m(r,{label:e(o)("game.games.weigh"),type:"number",prop:"weigh","input-attr":{step:1},modelValue:e(l).form.items.weigh,"onUpdate:modelValue":a[4]||(a[4]=t=>e(l).form.items.weigh=t),modelModifiers:{number:!0},placeholder:e(o)("Please input field",{field:e(o)("game.games.weigh")})},null,8,["label","modelValue","placeholder"]),m(r,{label:"支持假通道",type:"radio",modelValue:e(l).form.items.is_false,"onUpdate:modelValue":a[5]||(a[5]=t=>e(l).form.items.is_false=t),prop:"is_false",data:{content:{2:"是",1:"否"}}},null,8,["modelValue"]),m(r,{label:e(o)("game.games.is_recommend"),type:"switch",modelValue:e(l).form.items.is_recommend,"onUpdate:modelValue":a[6]||(a[6]=t=>e(l).form.items.is_recommend=t),prop:"is_recommend",data:{content:{0:e(o)("game.games.is_recommend 0"),1:e(o)("game.games.is_recommend 1")}}},null,8,["label","modelValue","data"]),m(r,{label:"是否热门",type:"switch",modelValue:e(l).form.items.is_hot,"onUpdate:modelValue":a[7]||(a[7]=t=>e(l).form.items.is_hot=t),prop:"is_hot",data:{content:{0:"否",1:"是"}}},null,8,["modelValue"]),m(r,{label:e(o)("game.games.score"),type:"string",prop:"score",modelValue:e(l).form.items.score,"onUpdate:modelValue":a[8]||(a[8]=t=>e(l).form.items.score=t),placeholder:e(o)("Please input field",{field:e(o)("game.games.score")})},null,8,["label","modelValue","placeholder"]),m(r,{label:e(o)("game.games.status"),type:"switch",modelValue:e(l).form.items.status,"onUpdate:modelValue":a[9]||(a[9]=t=>e(l).form.items.status=t),prop:"status",data:{content:{0:e(o)("game.games.status 0"),1:e(o)("game.games.status 1")}}},null,8,["label","modelValue","data"]),m(r,{label:"游戏标签",type:"textarea",modelValue:e(l).form.items.tags,"onUpdate:modelValue":a[10]||(a[10]=t=>e(l).form.items.tags=t),prop:"tags",placeholder:"请输入游戏标签，多个标签请用英文','隔开"},null,8,["modelValue"]),m(r,{label:"游戏描述",type:"editor",modelValue:e(l).form.items.dec,"onUpdate:modelValue":a[11]||(a[11]=t=>e(l).form.items.dec=t),prop:"dec",onKeyup:[a[12]||(a[12]=_(y(()=>{},["stop"]),["enter"])),a[13]||(a[13]=_(y(t=>e(l).onSubmit(d.value),["ctrl"]),["enter"]))],placeholder:e(o)("Please input field",{field:"游戏描述"})},null,8,["modelValue","placeholder"])],64)):k("",!0)]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[$,e(l).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{O as _};
