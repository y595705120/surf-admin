import{i as V}from"./echarts-80671391.js";import{s as W,e as F,b as B,i as E,d as P,M as L,c as G,W as M,_ as U}from"./index-a4f58e3c.js";import{L as N}from"./storage-19836658.js";import{b as O,T as $,a as q}from"./index-c6449983.js";import{h as H,r as K,w as Y,af as j,az as J,E as Q,ad as X,ae as Z,F as ee,q as p,o as h,k as S,m as a,p as t,P as e,z as l,a5 as i,W as r,V as te,O as b,n as ae}from"./vue-5a2488fc.js";import"./index-f6e7dd17.js";const oe="/admin/Dashboard/";function se(){return W({url:oe+"dashboard",method:"get"})}const ne={class:"default-main"},le={class:"growth-chart",style:{"margin-top":"30px"}},re={key:0},de={class:"small-panel-box"},_e={class:"card-header"},ie={style:{"margin-left":"60px"}},ce={class:"day_font"},fe={class:"card-header"},ue={style:{"margin-left":"60px"}},me={class:"day_font"},pe={class:"card-header"},he={class:"day_font"},ye={class:"card-header"},ge={style:{"margin-left":"60px"}},be={class:"day_font"},xe={style:{"margin-top":"20px"}},ve={class:"card-header"},we={class:"day_font"},Te={class:"card-header"},ke={class:"day_font"},Ie={class:"card-header"},ze={style:{"margin-left":"60px"}},Me={class:"day_font"},Ne={class:"card-header"},Se={class:"day_font"},De={style:{"margin-top":"20px"}},Ae={class:"card-header"},Ce={style:{"margin-left":"60px"}},Re={class:"day_font"},Ve={class:"card-header"},We={style:{"margin-left":"60px"}},Fe={class:"day_font"},Be={class:"card-header"},Ee={style:{"margin-left":"60px"}},Pe={class:"day_font"},Le={class:"card-header"},Ge={style:{"margin-left":"60px"}},Ue={class:"day_font"},Oe={style:{"margin-top":"20px"}},$e={class:"card-header"},qe={style:{"margin-left":"60px"}},He={class:"day_font"},Ke={class:"card-header"},Ye={class:"day_font"},je={class:"card-header"},Je={style:{"margin-left":"60px"}},Qe={class:"day_font"},Xe={class:"card-header"},Ze={style:{"margin-left":"60px"}},et={class:"day_font"},tt={style:{"margin-top":"30px"}},at=H({name:"dashboard",__name:"dashboard",setup(ot){let w;const x=new Date,{t:y}=F(),D=B();E();const T=P(),u=K({charts:[],remark:"dashboard.Loading",workingTimeFormat:"",pauseWork:!1});se().then(s=>{u.remark=s.data.remark,A(s.data.charts_data)});const A=s=>{const c=V(T.value[0]),n={tooltip:{trigger:"axis"},grid:{top:40,right:0,bottom:20,left:40},xAxis:{type:"category",data:s.x_data},yAxis:{type:"value"},series:[{data:s.y_data,type:"line",smooth:!0}]};c.setOption(n),u.charts.push(c)},v=()=>{ae(()=>{for(const s in u.charts)u.charts[s].resize()})},C=()=>{const s=N.get(M)||{date:"",startTime:0,pauseTime:0,startPauseTime:0},c=x.getFullYear()+"-"+(x.getMonth()+1)+"-"+x.getDate(),n=parseInt((new Date().getTime()/1e3).toString());s.date!=c&&(s.date=c,s.startTime=n,s.pauseTime=s.startPauseTime=0,N.set(M,s));let d=0;s.startPauseTime<=0?(u.pauseWork=!1,d=0):(u.pauseWork=!0,d=n-s.startPauseTime);let f=n-s.startTime-s.pauseTime-d;u.workingTimeFormat=k(f),u.pauseWork||(w=window.setInterval(()=>{f++,u.workingTimeFormat=k(f)},1e3))},k=s=>{var c=0,n=0,d=0,f=0,_="";return s<60?c=s:(n=Math.floor(s/60),c=Math.floor(s%60),n>=60&&(d=Math.floor(n/60),n=Math.floor(n%60),d>=24&&(f=Math.floor(d/24),d=Math.floor(d%24)))),_=d+y("dashboard.hour")+((n>=10?n:"0"+n)+y("dashboard.minute"))+((c>=10?c:"0"+c)+y("dashboard.second")),f>0&&(_=f+y("dashboard.day")+_),_},I=Y(),o=new O(new L("/admin/Dashboard/"),{column:[{label:"代理ID",prop:"agent_id",comSearchRender:"slot",comSearchSlotName:"agent",show:!1},{label:"日期",fixed:"left",prop:"day_time",align:"center",operator:"RANGE",render:"datetime",timeFormat:"yyyy-mm-dd",width:"160"},{label:"新增用户",prop:"new_user_num",align:"center",operator:!1},{label:"活跃用户",prop:"hy_user_num",align:"center",operator:!1},{label:"当日流水",prop:"day_bet_money",align:"center",operator:!1},{label:"游戏局数",prop:"day_bet_num",align:"center",operator:!1},{label:"首充人数",prop:"frist_r_num",align:"center",operator:!1},{label:"充值用户",prop:"r_num",align:"center",operator:!1},{label:"复充率",prop:"fcl",align:"center",operator:!1},{label:"邮件用户提现金额",prop:"email_user_money",align:"center",operator:!1},{label:"充值金额",prop:"r_money",align:"center",operator:!1},{label:"提现用户",prop:"cash_user_num",align:"center",operator:!1},{label:"提现金额",prop:"cash_money",align:"center",operator:!1},{label:"奖金分红",prop:"bet_win_money",align:"center",operator:!1},{label:"充值营收",prop:"cz_ys",align:"center",operator:!1,render:"slot",slotName:"re_ys"},{label:"系统盈亏",prop:"lr",align:"center",operator:!1,render:"slot",slotName:"ys"}],dblClickNotEditColumn:["all"]});return j("baTable",o),J(()=>{v()}),o.getIndex=()=>{if(o.runBefore("getIndex")!==!1)return o.table.loading=!0,o.api.index(o.table.filter).then(s=>{o.table.data=s.data.list,o.table.total=s.data.total,o.table.remark=s.data.remark,o.form.extend.day_info=s.data.day_info,o.form.extend.title_info=s.data.count_info,o.runAfter("getIndex",{res:s})}).finally(()=>{o.table.loading=!1})},Q(()=>{C(),G(window,"resize",v),o.api.actionUrl.set("index","/admin/Dashboard/index1"),o.table.ref=I.value,o.mount(),o.getIndex()}),X(()=>{for(const s in u.charts)u.charts[s].dispose()}),Z(()=>{clearInterval(w)}),ee(()=>D.state.tabFullScreen,()=>{v()}),(s,c)=>{const n=p("el-card"),d=p("el-col"),f=p("el-row"),_=p("el-tag"),R=p("el-input"),g=p("tempalte"),z=p("el-table-column");return h(),S("div",ne,[a("div",le,[t(f,{gutter:20},{default:e(()=>[t(d,{class:"lg-mb-20",xs:24,sm:24},{default:e(()=>[t(n,{shadow:"hover",header:"在线人数统计"},{default:e(()=>[a("div",{class:"user-growth-chart",ref:l(T).set},null,512)]),_:1})]),_:1})]),_:1})]),l(o).form.extend.title_info?(h(),S("div",re,[a("div",de,[t(f,{gutter:20},{default:e(()=>[t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",_e,[t(_,null,{default:e(()=>[i("今日新增用户")]),_:1}),a("span",ie,"总计:"+r(l(o).form.extend.title_info.new_user_num),1)])]),default:e(()=>[a("span",ce,r(l(o).form.extend.day_info.new_user_num),1)]),_:1})]),_:1}),t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",fe,[t(_,null,{default:e(()=>[i("今日流水")]),_:1}),a("span",ue,"总计:"+r(l(o).form.extend.title_info.day_bet_money),1)])]),default:e(()=>[a("span",me,r(l(o).form.extend.day_info.day_bet_money),1)]),_:1})]),_:1}),t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",pe,[t(_,null,{default:e(()=>[i("今日活跃用户")]),_:1})])]),default:e(()=>[a("span",he,r(l(o).form.extend.day_info.hy_user_num),1)]),_:1})]),_:1}),t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",ye,[t(_,null,{default:e(()=>[i("今日充值")]),_:1}),a("span",ge,"总计:"+r(l(o).form.extend.title_info.r_money),1)])]),default:e(()=>[a("span",be,r(l(o).form.extend.day_info.r_money),1)]),_:1})]),_:1})]),_:1})]),a("div",xe,[t(f,{gutter:20},{default:e(()=>[t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",ve,[t(_,null,{default:e(()=>[i("今日充值人数")]),_:1})])]),default:e(()=>[a("span",we,r(l(o).form.extend.day_info.r_num),1)]),_:1})]),_:1}),t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",Te,[t(_,null,{default:e(()=>[i("今日复充率")]),_:1})])]),default:e(()=>[a("span",ke,r(l(o).form.extend.day_info.fcl),1)]),_:1})]),_:1}),t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",Ie,[t(_,null,{default:e(()=>[i("今日提现")]),_:1}),a("span",ze,"总计:"+r(l(o).form.extend.title_info.cash_money),1)])]),default:e(()=>[a("span",Me,r(l(o).form.extend.day_info.cash_money),1)]),_:1})]),_:1}),t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",Ne,[t(_,null,{default:e(()=>[i("提现用户")]),_:1})])]),default:e(()=>[a("span",Se,r(l(o).form.extend.day_info.cash_user_num),1)]),_:1})]),_:1})]),_:1})]),a("div",De,[t(f,{gutter:20},{default:e(()=>[t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",Ae,[t(_,null,{default:e(()=>[i("充值营收")]),_:1}),a("span",Ce,"总计:"+r(l(o).form.extend.title_info.cz_ys),1)])]),default:e(()=>[a("span",Re,r(l(o).form.extend.day_info.cz_ys),1)]),_:1})]),_:1}),t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",Ve,[t(_,null,{default:e(()=>[i("流水盈亏")]),_:1}),a("span",We,"总计:"+r(-l(o).form.extend.title_info.lr),1)])]),default:e(()=>[a("span",Fe,r(-l(o).form.extend.day_info.lr),1)]),_:1})]),_:1}),t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",Be,[t(_,null,{default:e(()=>[i("今日充值次数")]),_:1}),a("span",Ee,"总计:"+r(l(o).form.extend.title_info.r_count_num),1)])]),default:e(()=>[a("span",Pe,r(l(o).form.extend.day_info.r_count_num),1)]),_:1})]),_:1}),t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",Le,[t(_,null,{default:e(()=>[i("今日提现次数")]),_:1}),a("span",Ge,"总计:"+r(l(o).form.extend.title_info.c_count_num),1)])]),default:e(()=>[a("span",Ue,r(l(o).form.extend.day_info.c_count_num),1)]),_:1})]),_:1})]),_:1})]),a("div",Oe,[t(f,{gutter:20},{default:e(()=>[t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",$e,[t(_,null,{default:e(()=>[i("游戏局数")]),_:1}),a("span",qe,"总计:"+r(l(o).form.extend.title_info.day_bet_num),1)])]),default:e(()=>[a("span",He,r(l(o).form.extend.day_info.day_bet_num),1)]),_:1})]),_:1}),t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",Ke,[t(_,null,{default:e(()=>[i("用户余额")]),_:1})])]),default:e(()=>[a("span",Ye,r(l(o).form.extend.day_info.user_balance),1)]),_:1})]),_:1}),t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",je,[t(_,null,{default:e(()=>[i("邮件补偿")]),_:1}),a("span",Je,"总计:"+r(l(o).form.extend.title_info.email_money),1)])]),default:e(()=>[a("span",Qe,r(l(o).form.extend.day_info.email_money),1)]),_:1})]),_:1}),t(d,{sm:6},{default:e(()=>[t(n,null,{header:e(()=>[a("div",Xe,[t(_,null,{default:e(()=>[i("奖金分红")]),_:1}),a("span",Ze,"总计:"+r(l(o).form.extend.title_info.bet_win_money),1)])]),default:e(()=>[a("span",et,r(l(o).form.extend.day_info.bet_win_money),1)]),_:1})]),_:1})]),_:1})])])):te("",!0),a("div",tt,[t($,{buttons:["refresh","comSearch","columnDisplay"]},{agent:e(()=>[t(R,{modelValue:l(o).comSearch.form.agent_id,"onUpdate:modelValue":c[0]||(c[0]=m=>l(o).comSearch.form.agent_id=m),placeholder:"请输入代理id"},null,8,["modelValue"])]),_:1}),t(q,{ref_key:"tableRef",ref:I},{re_ys:e(()=>[t(z,{prop:"re_ys_money",label:"充值营收",align:"center"},{default:e(m=>[m.row.cz_ys<0?(h(),b(g,{key:0},{default:e(()=>[t(_,{type:"success"},{default:e(()=>[i(r(m.row.cz_ys),1)]),_:2},1024)]),_:2},1024)):(h(),b(g,{key:1},{default:e(()=>[t(_,{type:"danger"},{default:e(()=>[i(r(m.row.cz_ys),1)]),_:2},1024)]),_:2},1024))]),_:1})]),ys:e(()=>[t(z,{prop:"sys_ys_money",label:"系统盈亏",align:"center"},{default:e(m=>[m.row.lr>0?(h(),b(g,{key:0},{default:e(()=>[t(_,{type:"success"},{default:e(()=>[i(r(-m.row.lr),1)]),_:2},1024)]),_:2},1024)):(h(),b(g,{key:1},{default:e(()=>[t(_,{type:"danger"},{default:e(()=>[i(r(-m.row.lr),1)]),_:2},1024)]),_:2},1024))]),_:1})]),_:1},512)])])}}});const it=U(at,[["__scopeId","data-v-c14d2a4e"]]);export{it as default};
