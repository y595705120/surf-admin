import{h as I,w as U,ap as q,r as z,F as D,q as p,a8 as f,o as m,O as u,P as r,$ as g,k as E,a5 as _,W as h,z as e,m as w,l as y,p as d,X as B,as as N,V as T}from"./vue-5a2488fc.js";import{i as W,e as $,_ as K}from"./index-dcab27dc.js";import{b as s,r as R}from"./validate-d0780182.js";import{F as n}from"./index-404d6f90.js";import"./index-a4c9ce56.js";import"./index-f3986603.js";const j={class:"title"},G=I({__name:"popupForm",setup(L){const k=W(),c=U(),a=q("baTable"),{t:o}=$(),v=z({username:[s({name:"required",title:o("auth.admin.username")}),s({name:"account"})],nickname:[s({name:"required",title:o("auth.admin.nickname")})],group_arr:[s({name:"required",message:o("Please select field",{field:o("auth.admin.grouping")})})],email:[s({name:"email",message:o("Please enter the correct field",{field:o("auth.admin.mailbox")})})],mobile:[s({name:"mobile",message:o("Please enter the correct field",{field:o("auth.admin.mobile")})})],password:[{validator:(b,t,i)=>{if(a.form.operate=="Add"){if(!t)return i(new Error(o("Please input field",{field:o("auth.admin.Password")})))}else if(!t)return i();return R(t)?i():i(new Error(o("validate.Please enter the correct password")))},trigger:"blur"}]});return D(()=>a.form.operate,b=>{v.password[0].required=b=="Add"}),(b,t)=>{const i=p("el-form"),P=p("el-scrollbar"),V=p("el-button"),x=p("el-dialog"),C=f("drag"),A=f("zoom"),F=f("loading"),S=f("blur");return m(),u(x,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(a).form.operate),onClose:e(a).toggleForm,"destroy-on-close":!0},{header:r(()=>[g((m(),E("div",j,[_(h(e(a).form.operate?e(o)(e(a).form.operate):""),1)])),[[C,[".ba-operate-dialog",".el-dialog__header"]],[A,".ba-operate-dialog"]])]),footer:r(()=>[w("div",{style:y("width: calc(100% - "+e(a).form.labelWidth/1.8+"px)")},[d(V,{onClick:t[7]||(t[7]=l=>e(a).toggleForm(""))},{default:r(()=>[_(h(e(o)("Cancel")),1)]),_:1}),g((m(),u(V,{loading:e(a).form.submitLoading,onClick:t[8]||(t[8]=l=>e(a).onSubmit(c.value)),type:"primary"},{default:r(()=>[_(h(e(a).form.operateIds&&e(a).form.operateIds.length>1?e(o)("Save and edit next item"):e(o)("Save")),1)]),_:1},8,["loading"])),[[S]])],4)]),default:r(()=>[g((m(),u(P,{class:"ba-table-form-scrollbar"},{default:r(()=>[w("div",{class:B(["ba-operate-form","ba-"+e(a).form.operate+"-form"]),style:y("width: calc(100% - "+e(a).form.labelWidth/2+"px)")},[e(a).form.loading?T("",!0):(m(),u(i,{key:0,ref_key:"formRef",ref:c,onKeyup:t[6]||(t[6]=N(l=>e(a).onSubmit(c.value),["enter"])),model:e(a).form.items,"label-position":"right","label-width":e(a).form.labelWidth+"px",rules:v},{default:r(()=>[d(n,{label:e(o)("auth.admin.username"),modelValue:e(a).form.items.username,"onUpdate:modelValue":t[0]||(t[0]=l=>e(a).form.items.username=l),type:"string",prop:"username",placeholder:e(o)("auth.admin.Administrator login")},null,8,["label","modelValue","placeholder"]),d(n,{label:e(o)("auth.admin.nickname"),modelValue:e(a).form.items.nickname,"onUpdate:modelValue":t[1]||(t[1]=l=>e(a).form.items.nickname=l),type:"string",prop:"nickname",placeholder:e(o)("Please input field",{field:e(o)("auth.admin.nickname")})},null,8,["label","modelValue","placeholder"]),(m(),u(n,{label:e(o)("auth.admin.grouping"),modelValue:e(a).form.items.group_arr,"onUpdate:modelValue":t[2]||(t[2]=l=>e(a).form.items.group_arr=l),prop:"group_arr",type:"remoteSelect",key:"group-"+e(a).form.items.id,"input-attr":{multiple:!0,params:{isTree:!0,absoluteAuth:e(k).id==e(a).form.items.id?0:1},field:"name","remote-url":"/admin/auth.Group/index",placeholder:e(o)("Click select")}},null,8,["label","modelValue","input-attr"])),d(n,{label:e(o)("auth.admin.head portrait"),type:"image",modelValue:e(a).form.items.avatar,"onUpdate:modelValue":t[3]||(t[3]=l=>e(a).form.items.avatar=l)},null,8,["label","modelValue"]),d(n,{label:e(o)("auth.admin.Password"),prop:"password",modelValue:e(a).form.items.password,"onUpdate:modelValue":t[4]||(t[4]=l=>e(a).form.items.password=l),type:"password",placeholder:e(a).form.operate=="Add"?e(o)("Please input field",{field:e(o)("auth.admin.Password")}):e(o)("auth.admin.Please leave blank if not modified")},null,8,["label","modelValue","placeholder"]),d(n,{label:e(o)("State"),modelValue:e(a).form.items.status,"onUpdate:modelValue":t[5]||(t[5]=l=>e(a).form.items.status=l),type:"radio",data:{content:{0:e(o)("Disable"),1:e(o)("Enable")},childrenAttr:{border:!0}}},null,8,["label","modelValue","data"])]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[F,e(a).form.loading]])]),_:1},8,["model-value","onClose"])}}});const Y=K(G,[["__scopeId","data-v-69729150"]]);export{Y as default};
